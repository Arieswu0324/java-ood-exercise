### 1. 线程安全方案对比


| 方案                   | 适用场景               | 性能       | 实现复杂度   | 推荐度   |
  |------------------------|--------------------|------------|--------------|----------|
| synchronized           | 通用，中低并发            | ⭐⭐⭐     | ⭐           | ⭐⭐⭐⭐ |
| ReentrantLock          | 需要高级特性（tryLock, 公平锁） | ⭐⭐⭐     | ⭐⭐         | ⭐⭐⭐⭐ |
| ReentrantReadWriteLock | 读多写少（需要peek方法）     | ⭐⭐⭐⭐   | ⭐⭐⭐       | ⭐⭐⭐   |
| StampedLock            | 读远多于写，极高并发         | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐     | ⭐⭐⭐   |
| 分段锁                 | 极高并发，大容量           | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐   | ⭐⭐     |
| Lock-free              | 理论最高性能             | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐⭐ | ⭐       |


注意：synchronized和ReentrantLock性能是差不多的